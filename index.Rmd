--- 
title: "Twinnies Times"
author: "Created by Josh Horsley, updated `r as.integer(format(Sys.time(),'%d'))` `r format(Sys.time(),'%b %Y')`"
site: bookdown::bookdown_site
documentclass: book
link-citations: yes
description: "Twinnies Times"
---

# Home

```{r prep, echo = FALSE}

knitr::opts_chunk$set(echo = FALSE, warning = FALSE, fig.height = 6, fig.width = 7)

dummy <- lapply(list.files("R", full.names = TRUE), source)

dt_season <- readRDS("data_derived/dt_season.rds")
dt_all_long <- readRDS("data_derived/dt_all_long.rds")
saveRDS(dt_summary_all, "data_derived/dt_summary_all.rds")

season_lowest_detail <- min(dt_season$season)

```

This is an unofficial collection of [TwinTowns Triathlon Club](http://www.twintownstriathlon.org.au){target="_blank"} race results based on the [club's webscorer page](https://www.webscorer.com/33755){target="_blank"}.

See results by:

- Race ([eg 5 Feb 2022](#r-2022-02-05))
- [Competitor](#athletes)
- Season participation and records ([eg 2021-2022](#season-2021-2022))
- [Total Participation](#participation-total-all)

Detailed results are available from the `r season_lowest_detail` season onwards:


```{r season-table}

dt_season_tab <- dt_season[, .(Seasons =unique(season))]

dt_season_tab[, Seasons := paste0('<a href="season-',Seasons, '.html#',Seasons,'">',Seasons,'</a>')]

DT::datatable(dt_season_tab, rownames = FALSE,escape = FALSE,
              options = list(ordering = FALSE,
                             paging = FALSE,
                             dom = 't'))

```



# Participation {#participation-total-all}

```{r}
n_entries_all <- sum(dt_summary_all$entries)
n_athletes <- nrow(dt_summary_all)

season_latest <- as.integer(substring(max(dt_season[(have_results)]$season),1,4))
n_seasons <- season_latest - 1989L + 1L
```

Since 1989 there have been `r prettyNum(n_entries_all, big.mark = ",")` entries by `r prettyNum(n_athletes, big.mark = ",")` competitors over `r n_seasons` seasons.

Detailed results are available since the `r season_lowest_detail` season. 


<!-- ```{r part_hist-all} -->
<!-- plotly_part_hist(dt_all_long, do_all = TRUE) -->
<!-- ``` -->


```{r part-total-table-all}
table_part_total_all()
```

